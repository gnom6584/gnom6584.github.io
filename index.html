<!doctype html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Тег INPUT</title>
 </head>
 <script type="text/javascript" src="expression_system.js"></script>
 <body>
  <div>
    <font color="red">
    <p>Input:</p>
    <input id='inputText' style='width:100%'>
  </font>
  </div>
  <div>
    <font color="green">
    <p>Output:</p>
    <input id='outputText' style='width:100%'>
    </font>
  </div>
  <script type="text/javascript">
  Module['onRuntimeInitialized'] = function() {
    run = Module.cwrap('run', 'string', ['string'])
  free = Module.cwrap('free_str', 'number', ['string'])
  var elem = document.getElementById('inputText');
  var out = document.getElementById('outputText');
  out.readOnly = true;
elem.addEventListener('keypress', function(e){
  if (e.keyCode == 13) {
    try {
      console.log(elem.value);   
      str = run(elem.value)
      outputText.value = str
      elem.value = ''
      free(str)
    }
    catch(e) {
      elem.value = ''
      outputText.value = e.message
    }
  }
});
  }
  </script>
 </body>
</html>
<!DOCTYPE HTML>

</html>

  